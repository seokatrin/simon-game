(function(e){function t(t){for(var o,a,c=t[0],i=t[1],l=t[2],p=0,m=[];p<c.length;p++)a=c[p],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&m.push(r[a][0]),r[a]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(o=!1)}o&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={app:0},s=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/simon-game/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=i;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"4b24":function(e,t,n){"use strict";n("799c")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),r={class:"game"},s={class:"game-button"},a={class:"game-message"};function c(e,t,n,c,i,l){var u=Object(o["k"])("my-button"),p=Object(o["k"])("game-options");return Object(o["i"])(),Object(o["d"])(o["a"],null,[Object(o["e"])("div",r,[Object(o["e"])("div",s,[(Object(o["i"])(!0),Object(o["d"])(o["a"],null,Object(o["j"])(i.colorsList,(function(e,t){return Object(o["i"])(),Object(o["c"])(u,{key:e,flash:e.flash,color:e.color,index:t,onOnBtnCliked:l.onColorBtnClicked},null,8,["flash","color","index","onOnBtnCliked"])})),128))]),Object(o["g"])(p,{modelValue:i.selectedLevel,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.selectedLevel=e}),score:i.score,isOn:i.isOn,gameLevels:i.gameLevels,onStartGame:l.startGame},null,8,["modelValue","score","isOn","gameLevels","onStartGame"])]),Object(o["e"])("p",a,Object(o["l"])(i.message),1)],64)}var i=n("1da1");n("99af"),n("96cf");function l(e,t,n,r,s,a){return Object(o["i"])(),Object(o["d"])("button",{class:Object(o["h"])(["btn",n.color,{flash:n.flash}]),onClick:t[0]||(t[0]=function(){return a.handleClick&&a.handleClick.apply(a,arguments)})},null,2)}n("a9e3");var u={name:"my-button",props:{index:{type:Number},color:{type:String},flash:{type:Boolean}},methods:{handleClick:function(){this.$emit("on-btn-cliked",this.index)}}},p=n("6b0d"),m=n.n(p);const d=m()(u,[["render",l]]);var f=d,h={class:"game-options"},b={class:"game-level"},O=["disabled"],v=Object(o["e"])("p",{class:"game-hard"},"Сложность игры:",-1),g=["disabled","value"];function j(e,t,n,r,s,a){var c=this;return Object(o["i"])(),Object(o["d"])("div",h,[Object(o["e"])("p",b,"Раунд: "+Object(o["l"])(n.score),1),Object(o["e"])("button",{class:"game-start-btn",disabled:n.isOn,onClick:t[0]||(t[0]=function(e){return c.$emit("start-game")})}," Старт ",8,O),v,(Object(o["i"])(!0),Object(o["d"])(o["a"],null,Object(o["j"])(n.gameLevels,(function(e,r){return Object(o["i"])(),Object(o["d"])("label",{class:"game-radio-btn",key:e},[Object(o["f"])(Object(o["l"])(e)+" ",1),Object(o["n"])(Object(o["e"])("input",{type:"radio",disabled:n.isOn,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.modelValue=e}),value:r,onChange:t[2]||(t[2]=function(){return a.updateInput&&a.updateInput.apply(a,arguments)})},null,40,g),[[o["m"],n.modelValue]])])})),128))])}var y={name:"game-options",props:{isOn:{type:Boolean},gameLevels:{type:Array},modelValue:{type:Number},score:{type:Number}},methods:{updateInput:function(e){this.$emit("update:modelValue",e.target.value)}}};const C=m()(y,[["render",j]]);var k=C;function w(e,t){return Math.floor(e+Math.random()*(t+1-e))}n("d3b7");function L(e){return new Promise((function(t){return setTimeout(t,e)}))}var S={name:"App",components:{MyButton:f,GameOptions:k},data:function(){return{gameLevels:["легкая","средняя","сложная"],selectedLevel:0,timesList:[1500,1e3,400],isComputerStep:!1,score:1,isOn:!1,colorsList:[{color:"blue",flash:!1},{color:"red",flash:!1},{color:"yellow",flash:!1},{color:"green",flash:!1}],computerColors:[],userColors:[],urlList:["https://s3.amazonaws.com/freecodecamp/simonSound1.mp3","https://s3.amazonaws.com/freecodecamp/simonSound2.mp3","https://s3.amazonaws.com/freecodecamp/simonSound3.mp3","https://s3.amazonaws.com/freecodecamp/simonSound4.mp3"],message:""}},methods:{startGame:function(){this.isOn=!0,this.message=""},playSound:function(e){if(e){var t=new Audio(e);t.play()}},onColorBtnClicked:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.isComputerStep||!t.isOn){n.next=13;break}if(o=t.computerColors.length-t.userColors.length,e!==t.computerColors[o]){n.next=11;break}return t.flashColor(e),t.userColors.pop(),0===t.userColors.length&&(t.isComputerStep=!0,t.score++),n.next=8,L(100);case 8:t.colorsList[e].flash=!1,n.next=13;break;case 11:t.message="Вы проиграли. И дошли до ".concat(t.score," раунда"),t.isOn=!1;case 13:case"end":return n.stop()}}),n)})))()},highlightBtns:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<e.computerColors.length)){t.next=12;break}return o=e.computerColors[n],t.next=5,L(e.activeLevelTime);case 5:return e.flashColor(o),t.next=8,L(200);case 8:e.colorsList[o].flash=!1;case 9:n++,t.next=1;break;case 12:e.isComputerStep=!1,e.userColors=e.userColors.concat(e.computerColors).reverse();case 14:case"end":return t.stop()}}),t)})))()},flashColor:function(e){this.colorsList[e].flash=!0;var t=this.urlList[e];this.playSound(t)},resetGame:function(){this.isComputerStep=!1,this.isUserStep=!1,this.score=1,this.computerColors=[],this.userColors=[]}},computed:{activeLevelTime:function(){return this.timesList[this.selectedLevel]}},watch:{isOn:function(e){e?this.isComputerStep=!0:this.resetGame()},isComputerStep:function(e){if(this.isOn&&e){var t=w(0,this.colorsList.length-1);this.computerColors.push(t),this.highlightBtns()}}}};n("4b24");const x=m()(S,[["render",c]]);var B=x;Object(o["b"])(B).mount("#app")},"799c":function(e,t,n){}});
//# sourceMappingURL=app.a076b635.js.map